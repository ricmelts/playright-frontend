{"ast":null,"code":"import _objectSpread from\"/Users/ericmeltser/Downloads/playright_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/Users/ericmeltser/Downloads/playright_frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"children\",\"defaultTheme\",\"storageKey\"];import{createContext,useContext,useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const initialState={theme:'system',setTheme:()=>null};const ThemeProviderContext=/*#__PURE__*/createContext(initialState);export function ThemeProvider(_ref){let{children,defaultTheme='system',storageKey='playright-ui-theme'}=_ref,props=_objectWithoutProperties(_ref,_excluded);const[theme,setTheme]=useState(()=>localStorage.getItem(storageKey)||defaultTheme);useEffect(()=>{const root=window.document.documentElement;root.classList.remove('light','dark');if(theme==='system'){const systemTheme=window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light';root.classList.add(systemTheme);return;}root.classList.add(theme);},[theme]);const value={theme,setTheme:theme=>{localStorage.setItem(storageKey,theme);setTheme(theme);}};return/*#__PURE__*/_jsx(ThemeProviderContext.Provider,_objectSpread(_objectSpread({},props),{},{value:value,children:children}));}export const useTheme=()=>{const context=useContext(ThemeProviderContext);if(context===undefined)throw new Error('useTheme must be used within a ThemeProvider');return context;};","map":{"version":3,"names":["createContext","useContext","useEffect","useState","jsx","_jsx","initialState","theme","setTheme","ThemeProviderContext","ThemeProvider","_ref","children","defaultTheme","storageKey","props","_objectWithoutProperties","_excluded","localStorage","getItem","root","window","document","documentElement","classList","remove","systemTheme","matchMedia","matches","add","value","setItem","Provider","_objectSpread","useTheme","context","undefined","Error"],"sources":["/Users/ericmeltser/Downloads/playright_frontend/src/components/ThemeProvider.tsx"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from 'react'\n\ntype Theme = 'light' | 'dark' | 'system'\n\ntype ThemeProviderProps = {\n  children: React.ReactNode\n  defaultTheme?: Theme\n  storageKey?: string\n}\n\ntype ThemeProviderState = {\n  theme: Theme\n  setTheme: (theme: Theme) => void\n}\n\nconst initialState: ThemeProviderState = {\n  theme: 'system',\n  setTheme: () => null,\n}\n\nconst ThemeProviderContext = createContext<ThemeProviderState>(initialState)\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = 'system',\n  storageKey = 'playright-ui-theme',\n  ...props\n}: ThemeProviderProps) {\n  const [theme, setTheme] = useState<Theme>(\n    () => (localStorage.getItem(storageKey) as Theme) || defaultTheme\n  )\n\n  useEffect(() => {\n    const root = window.document.documentElement\n\n    root.classList.remove('light', 'dark')\n\n    if (theme === 'system') {\n      const systemTheme = window.matchMedia('(prefers-color-scheme: dark)')\n        .matches\n        ? 'dark'\n        : 'light'\n\n      root.classList.add(systemTheme)\n      return\n    }\n\n    root.classList.add(theme)\n  }, [theme])\n\n  const value = {\n    theme,\n    setTheme: (theme: Theme) => {\n      localStorage.setItem(storageKey, theme)\n      setTheme(theme)\n    },\n  }\n\n  return (\n    <ThemeProviderContext.Provider {...props} value={value}>\n      {children}\n    </ThemeProviderContext.Provider>\n  )\n}\n\nexport const useTheme = () => {\n  const context = useContext(ThemeProviderContext)\n\n  if (context === undefined)\n    throw new Error('useTheme must be used within a ThemeProvider')\n\n  return context\n}"],"mappings":"sVAAA,OAASA,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,yBAetE,KAAM,CAAAC,YAAgC,CAAG,CACvCC,KAAK,CAAE,QAAQ,CACfC,QAAQ,CAAEA,CAAA,GAAM,IAClB,CAAC,CAED,KAAM,CAAAC,oBAAoB,cAAGT,aAAa,CAAqBM,YAAY,CAAC,CAE5E,MAAO,SAAS,CAAAI,aAAaA,CAAAC,IAAA,CAKN,IALO,CAC5BC,QAAQ,CACRC,YAAY,CAAG,QAAQ,CACvBC,UAAU,CAAG,oBAEK,CAAC,CAAAH,IAAA,CADhBI,KAAK,CAAAC,wBAAA,CAAAL,IAAA,CAAAM,SAAA,EAER,KAAM,CAACV,KAAK,CAAEC,QAAQ,CAAC,CAAGL,QAAQ,CAChC,IAAOe,YAAY,CAACC,OAAO,CAACL,UAAU,CAAC,EAAcD,YACvD,CAAC,CAEDX,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,IAAI,CAAGC,MAAM,CAACC,QAAQ,CAACC,eAAe,CAE5CH,IAAI,CAACI,SAAS,CAACC,MAAM,CAAC,OAAO,CAAE,MAAM,CAAC,CAEtC,GAAIlB,KAAK,GAAK,QAAQ,CAAE,CACtB,KAAM,CAAAmB,WAAW,CAAGL,MAAM,CAACM,UAAU,CAAC,8BAA8B,CAAC,CAClEC,OAAO,CACN,MAAM,CACN,OAAO,CAEXR,IAAI,CAACI,SAAS,CAACK,GAAG,CAACH,WAAW,CAAC,CAC/B,OACF,CAEAN,IAAI,CAACI,SAAS,CAACK,GAAG,CAACtB,KAAK,CAAC,CAC3B,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,KAAM,CAAAuB,KAAK,CAAG,CACZvB,KAAK,CACLC,QAAQ,CAAGD,KAAY,EAAK,CAC1BW,YAAY,CAACa,OAAO,CAACjB,UAAU,CAAEP,KAAK,CAAC,CACvCC,QAAQ,CAACD,KAAK,CAAC,CACjB,CACF,CAAC,CAED,mBACEF,IAAA,CAACI,oBAAoB,CAACuB,QAAQ,CAAAC,aAAA,CAAAA,aAAA,IAAKlB,KAAK,MAAEe,KAAK,CAAEA,KAAM,CAAAlB,QAAA,CACpDA,QAAQ,EACoB,CAAC,CAEpC,CAEA,MAAO,MAAM,CAAAsB,QAAQ,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAAC,OAAO,CAAGlC,UAAU,CAACQ,oBAAoB,CAAC,CAEhD,GAAI0B,OAAO,GAAKC,SAAS,CACvB,KAAM,IAAI,CAAAC,KAAK,CAAC,8CAA8C,CAAC,CAEjE,MAAO,CAAAF,OAAO,CAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}